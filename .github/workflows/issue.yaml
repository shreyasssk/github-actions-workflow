name: Notify on Release
on:
  issues:
    types: [opened]

jobs:
  issue-message:
    runs-on: ubuntu-latest
    steps:
      - name: Open Issue
        if: failure() && github.event_name == 'pull_request'
        uses: rtCamp/action-slack-notify@v2
        env:
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
          SLACK_USERNAME: github-bot
          SLACK_COLOR: ${{ job.status }}
          SLACK_TITLE: 'New Issue Created! :no_entry:'
          SLACK_MESSAGE: 'New Issue created! <${{ github.event.issue.html_url }}|${{ github.event.issue.title }}.> '
